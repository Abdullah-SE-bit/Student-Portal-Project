{% extends "teacher_dashboard.html" %}

{% block title %}Edit Attendance{% endblock %}

{% block content %}
  <div class="breadcrumb">
    <span>Home</span> &gt; <span>Attendance</span> &gt; <span>Edit</span>
  </div>

  <div class="card">
    <h2>Edit Attendance â€“ {{ course.Course_Code }} ({{ course.Course_Name }})</h2>
    <p>Date: {{ date }} &nbsp; | &nbsp; Class No: {{ class_no }}</p>

    <form method="post">
      {% if students %}
        <table class="styled-table">
          <thead>
            <tr>
              <th>Roll No</th>
              <th>Name</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {% for s in students %}
              <tr>
                <td>{{ s.Roll_No }}</td>
                <td>{{ s.Name }}</td>
                <td>
                  <select name="status_{{ s.Roll_No }}">
                    <option value="P" {% if s.status == 'P' %}selected{% endif %}>Present</option>
                    <option value="A" {% if s.status == 'A' %}selected{% endif %}>Absent</option>
                    <option value="L" {% if s.status == 'L' %}selected{% endif %}>Leave</option>
                  </select>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>

        <button type="submit" class="btn btn-primary">Update Attendance</button>
      {% else %}
        <p>No students found for this session.</p>
      {% endif %}
    </form>
  </div>
{% endblock %}
