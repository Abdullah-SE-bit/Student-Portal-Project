{% extends "student_dashboard.html" %}

{% block title %}Attendance{% endblock %}

{% block content %}
  <div class="breadcrumb">
    <span>Home</span> &gt; <span>Attendance</span>
  </div>

  <div class="card">
    <h2>My Attendance</h2>

    {% if attendance %}
      {% for course_name, records in attendance.items() %}
        <div class="course-section">
          <h3>{{ course_name }}</h3>

          <table class="styled-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {% for rec in records %}
                <tr>
                  <td>{{ rec.Date }}</td>
                  <td>
                    {% if rec.Status == 'P' %}
                      <span class="badge badge-success">Present</span>
                    {% elif rec.Status == 'A' %}
                      <span class="badge badge-danger">Absent</span>
                    {% elif rec.Status == 'L' %}
                      <span class="badge badge-warning">Leave</span>
                    {% else %}
                      <span class="badge badge-muted">-</span>
                    {% endif %}
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% endfor %}
    {% else %}
      <p>No attendance records found.</p>
    {% endif %}
  </div>
{% endblock %}
