/* ===== Inbox layout ===== */
.inbox-app {
  display: flex;
  height: calc(100vh - 120px); /* leave space for header/footer from base template */
  gap: 16px;
}

/* ---------- Sidebar ---------- */
.sidebar {
  width: 320px;
  min-width: 220px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.sidebar.collapsed {
  transform: translateX(-100%);
}

/* Sidebar header */
.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 14px;
  border-bottom: 1px solid #eee;
}

.me {
  display: flex;
  gap: 10px;
  align-items: center;
}

.avatar, .contact-avatar, .chat-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: linear-gradient(135deg,#124DB5,#0d3f91);
  color: #fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:18px;
}

.me-info .me-name {
  font-weight:700;
  font-size:14px;
}
.me-info .me-status {
  font-size:12px;
  color:#666;
}

/* actions */
.icon-btn {
  background: none;
  border: none;
  font-size: 18px;
  padding: 6px;
  cursor: pointer;
}

/* search */
.search {
  padding: 10px;
  border-bottom: 1px solid #f0f0f0;
}
.search input {
  width: 100%;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #ddd;
  font-size: 14px;
}

/* contacts list */
.contacts {
  overflow-y: auto;
  flex: 1 1 auto;
}

.contact-item {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 12px 14px;
  cursor: pointer;
  border-bottom: 1px solid #fafafa;
}
.contact-item:hover {
  background: #fbfbff;
}
.contact-left { flex: 0 0 44px; }
.contact-mid { flex: 1 1 auto; min-width:0; }
.contact-name { font-weight:700; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.contact-last { font-size:13px; color:#666; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.contact-right { flex: 0 0 70px; text-align:right; position:relative; }

/* unread badge */
.contact-unread {
  background: #e53935;
  color: white;
  border-radius: 999px;
  padding: 4px 7px;
  font-size: 12px;
  display: inline-block;
  margin-top: 6px;
}

/* ---------- Chat area ---------- */
.chat-area {
  flex: 1 1 auto;
  background: #fff;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

/* chat header */
.chat-header {
  padding: 12px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom: 1px solid #eee;
}
.header-left {
  display:flex;
  align-items:center;
  gap:12px;
}
.chat-meta .chat-name { font-weight:700; font-size:16px; }
.chat-sub { font-size:13px; color:#666; }

/* messages */
.messages-wrap {
  padding: 16px;
  flex: 1 1 auto;
  overflow-y: auto;
  background: linear-gradient(180deg, #f7f9fc 0%, #ffffff 100%);
}

/* message rows */
.msg-row { display:flex; margin-bottom:10px; max-width:80%; }
.msg-row.mine { margin-left:auto; justify-content:flex-end; }
.msg-bubble {
  background: #f1f5ff;
  padding: 10px 12px;
  border-radius: 12px;
  position: relative;
  font-size:14px;
  line-height:1.3;
}
.msg-row.mine .msg-bubble { background: #124DB5; color:#fff; }
.msg-meta { font-size:11px; color:rgba(0,0,0,0.45); margin-top:6px; text-align:right; }

/* typing */
.typing { font-style: italic; color:#666; padding:8px; }

/* message form */
.message-form {
  display:flex;
  gap:8px;
  align-items:center;
  padding:10px;
  border-top:1px solid #eee;
}
.message-form input[type="text"] {
  flex: 1 1 auto;
  padding:10px 12px;
  border-radius: 20px;
  border: 1px solid #ddd;
  font-size:14px;
}
.send-btn {
  background:#124DB5;
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:18px;
  cursor:pointer;
}
.emoji-btn { background:none; border:none; font-size:20px; cursor:pointer; }

/* empty state */
.messages-empty {
  color:#666;
  text-align:center;
  margin-top:40px;
}

/* ===== Responsive: tablets and mobiles ===== */
@media (max-width: 992px) {
  .inbox-app { height: calc(100vh - 140px); }
  .sidebar { width: 280px; }
}

@media (max-width: 768px) {
  .inbox-app { flex-direction: column; gap:8px; height: auto; }
  .sidebar {
    width: 100%;
    border-radius: 10px;
    transform: translateY(0);
    position: relative;
  }
  .sidebar.collapsed { display:none; }
  .chat-area { width: 100%; }
  .messages-wrap { padding: 12px; }
  .msg-row { max-width: 100%; }
  .contact-right { display:none; }
  .search { padding:8px; }
}

@media (max-width: 420px) {
  .message-form input[type="text"] { font-size: 14px; padding:9px; }
  .send-btn { padding: 9px 12px; font-size:14px; }
}

/* Teacher avatar - green color */
.contact-avatar.teacher-avatar {
  background: linear-gradient(135deg, #2E7D32, #1B5E20) !important;
}